webpackJsonp([7],{"8yAH":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={name:"english-detail",props:{row:Object}},i={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._l(t.row.translation,function(e,a){return n("div",{key:a,staticClass:"expand-value"},[n("span",{staticClass:"expand-key"},[t._v(t._s(e.property)+".")]),t._v(" "),n("span",{staticClass:"expand-value",staticStyle:{"margin-left":"5px"}},[t._v(t._s(e.explanation))])])}),t._v(" "),n("br"),t._v(" "),t.row.synonyms?n("div",[n("span",{staticClass:"expand-key"},[t._v("同义词: ")]),t._v(" "),n("span",{staticClass:"expand-value"},[t._v(t._s(t.row.synonyms))]),t._v(" "),n("br"),t._v(" "),n("br")]):t._e(),t._v(" "),n("span",{staticClass:"expand-key"},[t._v("例句: ")]),t._v(" "),n("span",{staticClass:"expand-value"},[t._v(t._s(t.row.example_sentence))]),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),n("span",{staticClass:"expand-key"},[t._v("译文: ")]),t._v(" "),n("span",{staticClass:"expand-value"},[t._v(t._s(t.row.sentence_translation))]),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),n("span",{staticClass:"expand-key"},[t._v("来源: ")]),t._v(" "),n("span",{staticClass:"expand-value"},[n("a",{attrs:{target:"_blank",href:t.row.source,title:t.row.source}},[t._v(t._s(t.row.source))])]),t._v(" "),n("br")],2)},staticRenderFns:[]};var s=n("VU/8")(a,i,!1,function(t){n("HKSM")},"data-v-956b0d3a",null).exports,r=n("4Zt/"),o=n("myXI"),l={name:"english-list",components:{expandRow:s},data:function(){var t=this;return{roles:localStorage.getItem("roles"),wordProperties:[{value:"adj",label:"形容词"},{value:"n",label:"名词"},{value:"v",label:"动词"},{value:"adv",label:"副词"},{value:"prep",label:"介词"}],searchWord:"",word:"",synonyms:"",english_phonetic:"",american_phonetic:"",translation:[{property:"",explanation:""}],example_sentence:"",sentence_translation:"",source:"",showAddNewWordModal:!1,wordModalTitle:"",modifyWordId:"",wordListTableLoading:!1,wordList:[],pageSize:10,totalCount:1,currentPage:1,wordListColumns:[{type:"expand",width:50,render:function(t,e){return t(s,{props:{row:e.row}})}},{title:"ID",key:"_id",align:"center",ellipsis:!0,minWidth:200},{title:"单词",key:"word",align:"center",ellipsis:!0,minWidth:150},{title:"英文音标",key:"english_phonetic",align:"center",ellipsis:!0,minWidth:150},{title:"美式音标",key:"american_phonetic",align:"center",ellipsis:!0,minWidth:150},{title:"操作",key:"action",align:"center",ellipsis:!0,minWidth:150,render:function(e,n){var a=[],i=e("Button",{props:{type:"primary",size:"small"},style:{marginRight:"5px"},on:{click:function(){t.updateWord(n.row)}}},"修改");return a.push(i),e("div",[a])}}]}},methods:{resetSearch:function(){this.currentPage=1,this.searchWord="",this.getEnglish()},findWord:function(){this.searchWord?(this.currentPage=1,this.getEnglish()):this.$Message.error("搜索单词不能为空")},addNewWord:function(){this.wordModalTitle="添加单词",this.showAddNewWordModal=!0,this.modifyWordId&&(this.word="",this.synonyms="",this.english_phonetic="",this.american_phonetic="",this.translation=[{property:"",explanation:""}],this.example_sentence="",this.sentence_translation="",this.source=""),this.modifyWordId=""},updateWord:function(t){this.wordModalTitle="修改单词",this.showAddNewWordModal=!0,this.modifyWordId=t._id,this.word=t.word,this.synonyms=t.synonyms,this.english_phonetic=t.english_phonetic,this.american_phonetic=t.american_phonetic,this.translation=t.translation,this.example_sentence=t.example_sentence,this.sentence_translation=t.sentence_translation,this.source=t.source},addTranslationInput:function(){this.translation.push({})},deleteTranslationInput:function(t){this.translation.splice(t,1)},onModalOkClick:function(){var t=this;if(this.word){for(var e in this.translation){if(!this.translation[e].property)return void this.$Message.error("词性不能为空!");if(!this.translation[e].explanation)return void this.$Message.error("翻译不能为空!")}var n,a,i,s,l,c,d,p,h,u;this.modifyWordId?(n=this.modifyWordId,a=this.word,i=this.synonyms,s=this.english_phonetic,l=this.american_phonetic,c=this.translation,d=this.example_sentence,p=this.sentence_translation,h=this.source,u={wordId:n,word:a,synonyms:i,english_phonetic:s,american_phonetic:l,translation:c,example_sentence:d,sentence_translation:p,source:h},r.a.request({url:o.f,data:u,method:"post"})).then(function(e){t.$Message.success("修改成功!"),t.getEnglish()}):function(t,e,n,a,i,s,l,c){var d={word:t,synonyms:e,english_phonetic:n,american_phonetic:a,translation:i,example_sentence:s,sentence_translation:l,source:c};return r.a.request({url:o.d,data:d,method:"post"})}(this.word,this.synonyms,this.english_phonetic,this.american_phonetic,this.translation,this.example_sentence,this.sentence_translation,this.source).then(function(e){t.$Message.success("添加成功!"),t.word="",t.synonyms="",t.english_phonetic="",t.american_phonetic="",t.translation=[{property:"",explanation:""}],t.example_sentence="",t.sentence_translation="",t.source="",t.getEnglish()})}else this.$Message.error("单词不能为空!")},changePage:function(t){this.currentPage=t,this.getEnglish()},getEnglish:function(){var t=this;this.wordListTableLoading=!0;var e=null;this.searchWord&&(e=this.searchWord),function(t,e,n){var a={word:t,page:e,size:n};return r.a.request({url:o.e,data:a,method:"post"})}(e,this.currentPage,this.pageSize).then(function(e){t.totalCount=e.data.totalCount,t.wordList=e.data.english,t.wordListTableLoading=!1}).catch(function(e){t.wordListTableLoading=!1,t.$Message.error(e)})}},created:function(){this.getEnglish()}},c={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{margin:"20px",padding:"20px","background-color":"white"}},[this.roles.indexOf("ROLE_ADMIN")>-1?n("div",{staticStyle:{"margin-bottom":"20px"}},[n("Input",{staticStyle:{width:"150px"},attrs:{placeholder:"搜索"},model:{value:t.searchWord,callback:function(e){t.searchWord=e},expression:"searchWord"}}),t._v(" "),n("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:t.findWord}}),t._v(" "),n("Button",{attrs:{type:"info"},on:{click:t.resetSearch}},[t._v("重置")]),t._v(" "),n("Button",{staticStyle:{float:"right"},attrs:{type:"primary",icon:"plus-round"},on:{click:t.addNewWord}},[t._v("\n        添加单词\n      ")])],1):t._e(),t._v(" "),n("Table",{attrs:{border:"",stripe:"",data:t.wordList,columns:t.wordListColumns,loading:t.wordListTableLoading}}),t._v(" "),n("div",{staticStyle:{margin:"20px",overflow:"hidden"}},[n("Page",{attrs:{"page-size":t.pageSize,total:t.totalCount,current:t.currentPage,"show-elevator":"","show-total":""},on:{"on-change":t.changePage}})],1),t._v(" "),n("Modal",{attrs:{title:t.wordModalTitle},on:{"on-ok":t.onModalOkClick},model:{value:t.showAddNewWordModal,callback:function(e){t.showAddNewWordModal=e},expression:"showAddNewWordModal"}},[n("div",[t._v("\n        英文单词："),n("Input",{staticStyle:{width:"400px","margin-right":"10px"},attrs:{clearable:"",placeholder:"请输入英文单词"},model:{value:t.word,callback:function(e){t.word=e},expression:"word"}})],1),t._v(" "),n("div",{staticStyle:{"margin-top":"20px"}},[t._v("\n        英式音标："),n("Input",{staticStyle:{width:"400px","margin-right":"10px"},attrs:{clearable:"",placeholder:"请输入英式音标"},model:{value:t.english_phonetic,callback:function(e){t.english_phonetic=e},expression:"english_phonetic"}})],1),t._v(" "),n("div",{staticStyle:{"margin-top":"20px"}},[t._v("\n        美式音标："),n("Input",{staticStyle:{width:"400px","margin-right":"10px"},attrs:{clearable:"",placeholder:"请输入美式音标"},model:{value:t.american_phonetic,callback:function(e){t.american_phonetic=e},expression:"american_phonetic"}})],1),t._v(" "),t._l(t.translation,function(e,a){return n("div",{key:a,staticStyle:{"margin-top":"20px"}},[t._v("\n        单词翻译：\n        "),n("Select",{staticStyle:{width:"80px"},attrs:{placeholder:"词性"},model:{value:e.property,callback:function(n){t.$set(e,"property",n)},expression:"t.property"}},t._l(t.wordProperties,function(e){return n("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])})),t._v(" "),n("Input",{staticStyle:{width:"250px","margin-right":"10px"},attrs:{placeholder:"翻译"},model:{value:e.explanation,callback:function(n){t.$set(e,"explanation",n)},expression:"t.explanation"}}),t._v(" "),n("Button",{attrs:{type:"primary",size:"small",shape:"circle",icon:"plus-round"},on:{click:t.addTranslationInput}}),t._v(" "),a>0?n("Button",{attrs:{type:"error",size:"small",shape:"circle",icon:"minus-round"},on:{click:function(e){t.deleteTranslationInput(a)}}}):t._e()],1)}),t._v(" "),n("div",{staticStyle:{"margin-top":"20px"}},[t._v("\n        单词例句："),n("Input",{staticStyle:{width:"400px","margin-right":"10px"},attrs:{clearable:"",placeholder:"请输入单词例句"},model:{value:t.example_sentence,callback:function(e){t.example_sentence=e},expression:"example_sentence"}})],1),t._v(" "),n("div",{staticStyle:{"margin-top":"20px"}},[t._v("\n        例句译文："),n("Input",{staticStyle:{width:"400px","margin-right":"10px"},attrs:{clearable:"",placeholder:"请输入例句译文"},model:{value:t.sentence_translation,callback:function(e){t.sentence_translation=e},expression:"sentence_translation"}})],1),t._v(" "),n("div",{staticStyle:{"margin-top":"20px"}},[t._v("\n        词语来源："),n("Input",{staticStyle:{width:"400px","margin-right":"10px"},attrs:{clearable:"",placeholder:"请输入词语来源"},model:{value:t.source,callback:function(e){t.source=e},expression:"source"}})],1),t._v(" "),n("div",{staticStyle:{"margin-top":"20px"}},[t._v("\n        同义词："),n("Input",{staticStyle:{width:"400px","margin-right":"10px"},attrs:{clearable:"",placeholder:"请输入同义词"},model:{value:t.synonyms,callback:function(e){t.synonyms=e},expression:"synonyms"}})],1)],2)],1)},staticRenderFns:[]};var d=n("VU/8")(l,c,!1,function(t){n("czCR")},"data-v-36eb434e",null);e.default=d.exports},HKSM:function(t,e){},czCR:function(t,e){}});
//# sourceMappingURL=7.1e283dd8a7398928112b.js.map